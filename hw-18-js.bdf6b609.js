let e=()=>fetch("http://localhost:3000/students").then(e=>e.json()),t=document.querySelector(".list-of-students"),l=document.querySelector("#get-students-btn"),n=document.querySelector("#add-student-form"),s=document.querySelector(".backdrop"),o=document.querySelector(".modal-form"),a=null;function r(e){t.innerHTML=e.map(({id:e,name:t,age:l,course:n,skills:s,email:o,isEnrolled:a})=>`<tr>
        <th name="id" class="id">${e}</th>
        <th name="name" class="name">${t}</th>
        <th name="age" class="age">${l}</th>
        <th name="course" class="course">${n}</th>
        <th name="skills" class="skills">${s}</th>
        <th name="email" class="email">${o}</th>
        <th name="isEnrolled" class="isEnrolled">${a}</th>
        <th name="btns"><button type="button" class="delete" id="${e}">delet</button>
<button type="button" class="edit">edit</button></th>
        </tr>`).join("")}l.addEventListener("click",()=>{e().then(e=>r(e))}),n.addEventListener("submit",e=>{var t;let l;(t=e).preventDefault(),fetch("http://localhost:3000/students",{method:"POST",body:JSON.stringify({name:(l=t.currentTarget.elements).name.value.trim(),age:Number(l.age.value.trim()),course:l.course.value.trim(),skills:l.skills.value.trim(),email:l.email.value.trim(),isEnrolled:l.isEnrolled.checked}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(()=>{n.reset()})}),o.addEventListener("submit",t=>{if(t.preventDefault(),a){var l;console.log(a);let n=t.currentTarget.elements,i={name:n.name.value.trim(),age:Number(n.age.value.trim()),course:n.course.value.trim(),skills:n.skills.value.trim(),email:n.email.value.trim(),isEnrolled:n.isEnrolled.checked};(l=a,fetch(`http://localhost:3000/students/${l}`,{method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json())).then(t=>{o.reset(),s.style.display="none",e().then(e=>r(e))})}}),t.addEventListener("click",()=>{let t=event.target.className;console.log(t);let l=event.target.closest("tr");console.log(l);let n=event.target.id;"delete"===t&&(function(t){fetch(`http://localhost:3000/students/${t}`,{method:"DELETE"}).then(e=>e.json()).then(t=>e(t)).then(e=>r(e))}(Number(n)),console.log(n),console.log("deleted")),"edit"===t&&(console.log("done"),a=l.querySelector(".id").textContent,o.elements.name.value=l.querySelector(".name").textContent,o.elements.age.value=l.querySelector(".age").textContent,o.elements.course.value=l.querySelector(".course").textContent,o.elements.skills.value=l.querySelector(".skills").textContent,o.elements.email.value=l.querySelector(".email").textContent,o.elements.isEnrolled.value=l.querySelector(".isEnrolled").textContent,s.style.display="flex")});
//# sourceMappingURL=hw-18-js.bdf6b609.js.map
